{"version":3,"file":"index.umd.development.cjs","sources":["../src/index.ts"],"sourcesContent":["import { AssertionError } from 'assert';\n\nexport function _handleExpression<T, P = any>(actual: T | P, expression: boolean | ((actual: T | P) => any) = true)\n{\n\texpression ??= true;\n\n\tif (typeof expression === 'function')\n\t{\n\t\texpression = !!expression(actual);\n\t}\n\n\treturn expression\n}\n\n/**\n * use asserts for make type predicates work\n *\n * @see https://www.typescriptlang.org/docs/handbook/advanced-types.html#using-type-predicates\n * @see https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#assertion-functions\n */\nexport function typePredicates<T, P = any>(actual: T | P, expression : boolean | ((actual: T | P) => any) = true, message?: string, ignoreExpression?: boolean): asserts actual is T\n{\n\texpression = _handleExpression(actual, expression);\n\n\tif (expression !== true && ignoreExpression !== true)\n\t{\n\t\tthrow new AssertionError({\n\t\t\tmessage: message ?? `actual ${actual} not as expected`,\n\t\t\tactual,\n\t\t\texpected: expression,\n\t\t\toperator: 'typePredicates',\n\t\t})\n\t}\n}\n\nexport function typeNarrowed<T, P = any>(actual: T | P, expression : boolean | ((actual: T | P) => any) = true, message?: string): actual is T\n{\n\texpression = _handleExpression(actual, expression);\n\n\tif (expression !== true)\n\t{\n\t\texpression = false;\n\t}\n\n\treturn expression\n}\n\nexport default typePredicates;\n"],"names":["expression","message","typeNarrowed","actual"],"mappings":";;;;;;;;;;;GAAA,IAAwC,OAAA,UAAA,KAAA,UAAA,EAAA;eAI7B,eAAU;CAInB,GAAA;;CAGD,EAAA,OAAAA,UAAA,CAAA;;CAWA,SAAA,cAAA,CAAA,MAAA,EAAA,UAAA,GAAA,IAAA,EAAA,OAAA,EAAA,gBAAA,EAAA;aAIC,oBAAU;;CACT,EAAA,IAAA,UAAA,KAAA,IAAA,IAAA,gBAAA,KAAA,IAAA,EAAA;;OAEAC;;;;;CAMG,GAAA;CAEL,CAAA;UAIWC,aAAAC,QAASH,UAAA,SAAAC,SAAA;CAGpBD,EAAAA,UAAA,oBAAiB,CAAjB,MAAA,EAAA,UAAA,CAAA,CAAA;;OAGDA,UAAA,KAAA,IAAA,EAAA;;;;;;;;;;;;;;;;;;"}